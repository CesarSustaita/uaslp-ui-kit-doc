---
title: Switch
description: Sección de Componentes del UI Kit de NPM .
---

<script type="module" src="/public/ui-kit.js"></script>
import { Aside, Steps, Code, Card, Tabs, TabItem} from '@astrojs/starlight/components';

El componente **Switch** `<ui-switch>` es un control de interfaz utilizado para gestionar estados binarios _(encendido/apagado, activo/inactivo, sí/no)_. 

El switch representa un cambio inmediato de estado que toma efecto en el momento de la interacción, sin necesidad de un botón de confirmación.


**Vista previa del componente**

<div class="components-structure">
    <div class="responsive-structure"> 
        <ui-switch></ui-switch>
        <ui-switch checked></ui-switch>
    </div>
</div>

### ¿Cuándo debería usarse?

Usa este componente cuando quieras:

- Gestionar una configuración instantánea _(ej. "Activar notificaciones", "Mostrar modo oscuro")_.
- Presentar opciones que tienen solo dos estados.
- Dar control directo al usuario sobre una función, donde el cambio debe ser percibido inmediatamente.

<Aside type="caution" title='Advertencia'>No uses el switch en formularios donde se requiere un botón de "Guardar" o "Aplicar" para confirmar los cambios. Para esos casos, utiliza el componente Checkbox o Radio Button.</Aside>

## Uso básico del componente

El componente se integra directamente en el DOM. Para renderizarlo en el sistema, utiliza la siguiente etiqueta:

export const exampleCode = `<ui-switch></ui-switch>`;
export const fileName = 'ejemplo.html';

<Code code={exampleCode} lang="js" title={fileName} />

## Variantes
Estos atributos controlan el estado de activación y la capacidad de interacción del componente. Todos son atributos **booleanos**, lo que significa que solo necesitan estar presentes en la etiqueta HTML para activarse ***(no requieren un valor como true o false)***.

export const type = 'HTML';

### Atributos de `estado`

**Vista previa**
  <div class="components-structure">
    <div class="responsive-structure"> 
        <ui-switch></ui-switch>
        <ui-switch checked></ui-switch>
        <ui-switch disabled></ui-switch>
        <ui-switch checked disabled></ui-switch>
    </div>
    
</div>

export const estado = `
<!-- Estado por defecto (desactivado / unchecked) -->
  <ui-switch></ui-switch>

<!-- Estado Encendido -->
  <ui-switch checked></ui-switch>

<!-- Estado Deshabilitado (no se puede interactuar) -->
  <ui-switch disabled></ui-switch>

<!-- Estado Encendido y Deshabilitado -->
  <ui-switch checked disabled></ui-switch>

`;

**Aplicación en código**

<Code code={estado} lang="js" title={type} />


**Tabla de los atributos implementados**

| <span style={{whiteSpace: "nowrap"}}>Atributo `(Estado)`</span>   | Uso Recomendado |
|------------------|------------------|
| `checked`     | Define si el switch está Encendido (true) o Apagado (false). Usado para inicializar el estado del componente. |
| `disabled`    | Desactiva el control, impidiendo clics y aplicando un estilo de opacidad. Útil cuando una configuración no está disponible por el estado del sistema. |


## Disparador de eventos

El componente `<ui-switch>` comunica el cambio de estado mediante un **Evento Personalizado _(CustomEvent)_** llamado `change`.

Este evento se dispara inmediatamente después de que el usuario interactúa con el control e incluye un objeto `detail`, el cual proporciona información clave para identificar la fuente de la acción.

### Estructura de `detail`

| Propiedad | Tipo   | Descripción |
|-----------|--------|-------------|
| `checked` | <span style={{whiteSpace: "nowrap"}}>`boolean` </span>| El nuevo estado del switch (true si está encendido, false si está apagado). |
| `id`      | <span style={{whiteSpace: "nowrap"}}>`string`</span>| El ID único del switch. Esencial para distinguir este control si hay múltiples en la pantalla. |


### Manejo del evento

El evento `change` utiliza la misma lógica de seguridad que el botón para gestionar su identificación.

El componente `<ui-switch>` está diseñado con una red de seguridad interna: si el atributo `id` se omite, el componente genera un **ID único** _(string aleatorio)_ para fines de accesibilidad y lógica interna.

Esta seguridad también aplica al **estado** ***(checked)***: El componente siempre garantiza que el **detail** del evento `change` incluya el nuevo estado ***(true/false)*** y el **ID** del switch.

Sin embargo, la generación automática de IDs presenta serios inconvenientes en el desarrollo:

- **Inestabilidad en Pruebas:** El ID generado cambia con cada recarga o compilación, haciendo imposible la automatización de pruebas y la depuración.  
- **Falta de Trazabilidad:** Un ID aleatorio no tiene significado semántico, dificultando la lectura y el mantenimiento del código.

<Aside type="caution" title='Importante'> Por lo tanto, es una **práctica obligatoria** asignar manualmente el atributo `id` a todas las instancias de los Switch</Aside>

export const id = `
<!-- Ejemplo del uso de la implementación ID -->
  <ui-switch id="config-theme" checked></ui-switch>
`;
export const ids = ['id="config-theme"'];

**Aplicación del ID en código**

<Code code={id} lang="js" title={type} mark={ids}/>

## Obtención del evento
Para escuchar los eventos emitidos por los componentes de este UI Kit, la opción más confiable es usar **`addEventListener`**, ya que garantiza que los eventos personalizados se reciban **correctamente**.

En **frameworks** _(Vue.js, React, Angular)_ también puede usarse **`addEventListener`**, aunque cada uno ofrece su propia forma de manejar eventos, que igualmente es válida y en la mayoría de los casos funcionan sin problema. Sin embargo, cada framework tiene particularidades importantes que tu como desarrollador debes considerar:

- **Vue**: Normalmente funciona de forma nativa, ya que Vue respeta los **eventos del DOM** tal como se emiten.
- **Angular**: Suele funcionar, en algunas versiones antiguas del framework tenían **limitaciones** con eventos provenientes de Web Components.
- **React**: Puede detectar eventos personalizados pero no siempre. Su sistema interno de `Synthetic Events` no garantiza la **compatibilidad al 100%**, por lo que el comportamiento puede variar entre navegadores y versiones.


export const js = `

<script>
  // Se obtiene el elemento del DOM por el ID
  const miSwitch = document.getElementById('config-theme');

  // 2. Agregar el event listener para el evento 'change'
  miSwitch.addEventListener('change', (event) => {
    
    // El objeto 'event.detail' contiene los datos id y checked.
    const nuevoEstado = event.detail.checked;
    const switchId = event.detail.id;

    console.log('ID del Switch: \${switchId}\');
    console.log('Nuevo Estado: \${nuevoEstado ? 'Activado' : 'Desactivado'}\');

  });
</script>

<ui-switch id="config-theme" checked></ui-switch>

`;
export const m = ['id="config-theme"', 'addEventListener'];


<Aside type="tip" title="Uso de 'addEventListener'">

Ejemplo sencillo de obtención del evento usando `addEventListener`
<Code code={js} lang="js" mark={m}/>

</Aside>


